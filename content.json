[{"title":"CarouselLayoutManageræºç è§£æ","date":"2017-11-08T07:54:57.000Z","path":"2017/11/08/CarouselLayoutManageræºç è§£æ/","text":"CarouselLayoutManagerç®€ä»‹CarouselLayoutManagerå®ç°çš„æ˜¯æ—‹è½¬æœ¨é©¬æ ·å¼çš„RecyclerViewå¸ƒå±€ï¼Œä½¿ç”¨éå¸¸ç®€å•ï¼Œç›´æ¥æ–°å»ºå‡ºæ¥å†é€šè¿‡recyclerview.setLayoutManager()è®¾ç½®è¿›å»å°±èƒ½å®ç°æ•ˆæœäº†ï¼Œå®é™…æ•ˆæœå¦‚ä¸‹ï¼š çº¢çº¿æ—¶demoä¸­ä½œè€…æ·»åŠ çš„æ•ˆæœï¼Œå®é™…ä½¿ç”¨ä¸ä¼šå‡ºç°ã€‚ä½†æ˜¯ç”±äºé¡¹ç›®éœ€è¦å®ç°çš„æ•ˆæœä¸æ ‡å‡†CarouselLayoutManagerå®ç°çš„æ•ˆæœç¨æœ‰å‡ºå…¥ï¼Œæ¯”å¦‚æ ‡å‡†æ•ˆæœæ°´å¹³è½¬åŠ¨æ—¶æ‰€æœ‰itemçš„ä¸­å¿ƒéƒ½æ˜¯åœ¨ä¸€æ¡ç›´çº¿ä¸Šï¼Œä½†éœ€æ±‚æ—¶å·¦å³ä¸¤è¾¹çš„itemä¸­å¿ƒç›¸å¯¹äºä¸­é—´é«˜ä¸€äº›ï¼Œå…¶ä½™è¯¸å¦‚itemé—´è·ä»¥åŠç¼©æ”¾æ¯”ä¾‹åœ¨CarouselLayoutManagerä¸­éƒ½æ²¡æœ‰å¼€æ”¾å‡ºç›¸å¯¹åº”çš„æ¥å£è¿›è¡Œä¿®æ”¹ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦å¯¹æºç è¿›è¡Œä¸€ç‚¹ä¿®æ”¹ä»¥å®šåˆ¶æ•ˆæœï¼Œä¹Ÿå¯ä»¥å€Ÿæ­¤æœºä¼šäº†è§£äº†è‡ªå®šä¹‰LayouManagerçš„ç›¸å…³çŸ¥è¯†ã€‚ æºç ä¸‹è½½åŠå¯¼å…¥é¦–å…ˆéœ€è¦ä»githubä¸Šcloneä¸‹æ•´ä¸ªé¡¹ç›®æºç ï¼Œå¦‚æœå¯¹äºè‡ªå®šä¹‰LayoutManagerå®Œå…¨æ²¡æœ‰äº†è§£å¯ä»¥åœ¨ç­‰å¾…cloneå®Œæˆçš„æ—¶å€™è°·æ­Œï¼ˆæˆ–è€…ç™¾åº¦ï¼‰ä¸€ä¸‹è‡ªå®šä¹‰LayoutManagerçš„åŸºç¡€çŸ¥è¯†ã€‚cloneå®Œæˆåè¿›å…¥åˆ°é¡¹ç›®æ–‡ä»¶å¤¹å¯ä»¥çœ‹åˆ°å®é™…ä¸Šæºç åŒ…å«äº†carouselå’Œsampleä¸¤ä¸ªé¡¹ç›®ï¼Œsampleè·‘å‡ºæ¥å°±æ˜¯ä¸Šé¢GIFå›¾çš„æ•ˆæœï¼Œå¯ä»¥çœ‹çœ‹ä½œè€…æ˜¯æ€ä¹ˆä½¿ç”¨çš„æˆ–è€…ç”¨æ¥æŸ¥çœ‹ä¿®æ”¹åçš„æ•ˆæœï¼Œå¦‚æœä¸æ„Ÿå…´è¶£ä¹Ÿå¯ä»¥ç›´æ¥æ‰“å¼€carouselé¡¹ç›®å°±è¡Œäº†ã€‚åœ¨å¯¼å…¥æ•´ä¸ªé¡¹ç›®æ—¶ï¼ˆæˆ‘å¯¼å…¥çš„æ—¶sampleï¼‰ä¼šæœ‰ä¸ªå¥‡æ€ªçš„é—®é¢˜æ—¶æ‰¾ä¸åˆ°local.propertiesæ–‡ä»¶ï¼Œä½†è¿™ä¸ªæ–‡ä»¶å®é™…ä¸Šå°±åœ¨sampleæ–‡ä»¶å¤¹ä¸­ï¼Œç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹å†buildå°±OKäº†ã€‚è¿™æ˜¯å¯¼å…¥åçš„ç›®å½•ï¼šå¦‚æœæ˜¯åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å®šåˆ¶çš„CarouselLayoutManageråªéœ€è¦å°†com.azoft.carousellayoutmanageråŒ…ä¸‹çš„ä»£ç å…¨éƒ¨å¤åˆ¶è¿›è‡ªå·±çš„é¡¹ç›®å°±å¯ä»¥ä½¿ç”¨äº†ã€‚ æºç åˆ†ææºç ä¸­æ‰€æœ‰çš„è‹±æ–‡æ³¨é‡Šéƒ½æ˜¯Azoftå¤§ç¥è‡ªå·±çš„sampleé‡Œé¢çš„ä»£ç å¾ˆç®€å•ï¼Œä¸å†ç»†çœ‹ï¼Œæˆ‘ä»¬å°±ç ”ç©¶ä¸€ä¸‹Azoftå¤§ç¥æ—¶æ€ä¹ˆå®ç°çš„æ—‹æœ¨æ•ˆæœå°±è¡Œï¼Œåªè¦çŸ¥é“åŸç†å†å»å®šåˆ¶è‡ªå·±æƒ³è¦çš„æ•ˆæœå°±æ¯”è¾ƒå®¹æ˜“äº†ã€‚å®ç°æ—‹æœ¨æ•ˆæœçš„ä¸»è¦çš„ä»£ç éƒ½åœ¨CarouselLayoutManager.javaä¸­ï¼Œæˆ‘ä»¬å°±ä»è¿™ä¸ªæ–‡ä»¶å¼€å§‹åˆ†æã€‚CarouselLayoutManagerç›´æ¥ç»§æ‰¿è‡ªRecyclerView.LayoutManagerï¼Œå¿…é¡»é‡å†™çš„æ–¹æ³•æ˜¯generateDefaultLayoutParams()æ–¹æ³•ï¼Œä½†è¿™ä¸ªæ–¹æ³•æ˜¯ä¸ºäº†è®¾ç½®itemçš„é»˜è®¤LayoutParamsï¼Œä¸€èˆ¬è®¾ç½®ä¸ºRecyclerView.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT);å°±å¥½ã€‚è€Œå®ç°äº†æ—‹æœ¨çš„ä¸»è¦å·¥ä½œéƒ½åœ¨onLayoutChildren()ä¸­ï¼ŒLayoutManagerä¼šåœ¨æ¯æ¬¡åˆ·æ–°æ—¶è°ƒç”¨æ­¤å‡½æ•°ï¼Œå› æ­¤é‡å†™è¿™ä¸ªæ–¹æ³•å°±å¯ä»¥å®ç°ä»»ä½•å¸ƒå±€ä»¥åŠæ»‘åŠ¨åŠ¨ç”»ã€‚1234567@Overridepublic void onLayoutChildren(@NonNull final RecyclerView.Recycler recycler, @NonNull final RecyclerView.State state) &#123; //å‰é¢åšäº†å¾ˆå¤šå·¥ä½œæ˜¯ä¸åˆå§‹å‡†å¤‡åŠæ»‘åŠ¨çš„è·ç¦»æµ‹é‡æœ‰å…³çš„ï¼Œæˆ‘åœ¨å®šåˆ¶ä¸­æ²¡æœ‰éœ€è¦ä¿®æ”¹åˆ°è¿™éƒ¨åˆ†ï¼Œè¿˜æ²¡æœ‰æ·±å…¥ç ”ç©¶ï¼Œå°†æ¥è¡¥ä¸Š ... //å¯¹itemçš„ç»˜åˆ¶ä»¥åŠä½ç½®è®¡ç®—éƒ½æ”¾åœ¨äº†è¿™é‡Œé¢ fillData(recycler, state, childMeasuringNeeded);&#125; fillData()å‡½æ•°å†…å®¹ï¼š 12345678910111213141516171819202122private void fillData(@NonNull final RecyclerView.Recycler recycler, @NonNull final RecyclerView.State state, final boolean childMeasuringNeeded)&#123; final float currentScrollPosition = getCurrentScrollPosition(); //è¿™ä¸ªå‡½æ•°ä¸­é€šè¿‡å„ç§è®¡ç®—ç¡®å®šäº†æ˜¾ç¤ºçš„itemæ•°é‡ä»¥åŠæ‘†æ”¾é¡ºåºï¼Œè¯¦ç»†åˆ†æåœ¨ä¸‹ã€‚ generateLayoutOrder(currentScrollPosition, state); detachAndScrapAttachedViews(recycler); final int width = getWidthNoPadding(); final int height = getHeightNoPadding(); //è¿™é‡Œé’ˆå¯¹ä¸åŒçš„å¸ƒå±€æ–¹å‘é‡‡ç”¨ä¸åŒçš„ä½ç½®è®¡ç®—æ–¹å¼ï¼Œä½†æœ€åéƒ½è°ƒç”¨åˆ°äº†fillDataItem()ä¸­ if (VERTICAL == mOrientation) &#123; fillDataVertical(recycler, width, height, childMeasuringNeeded); &#125; else &#123; fillDataHorizontal(recycler, width, height, childMeasuringNeeded); &#125; //è¿™é‡Œä»¥åŠä¸Šé¢çš„detachAndScrapAttachedViews()éƒ½æ˜¯åœ¨åšå†…å­˜çš„æ¸…ç†å·¥ä½œã€‚ recycler.clear(); detectOnItemSelectionChanged(currentScrollPosition, state);&#125; generateLayoutOrder()å‡½æ•°æ¯”è¾ƒé‡è¦äº†ï¼ŒAzoftåœ¨å…¶ä¸­é€šè¿‡å·§å¦™çš„æ–¹æ³•å®ç°äº†itemä¹‹é—´å±‚çº§çš„ç®¡ç†ï¼Œä»£ç åˆ†æå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647private void generateLayoutOrder(final float currentScrollPosition, @NonNull final RecyclerView.State state) &#123; mItemsCount = state.getItemCount(); final float absCurrentScrollPosition = makeScrollPositionInRange0ToCount(currentScrollPosition, mItemsCount); final int centerItem = Math.round(absCurrentScrollPosition); if (mCircleLayout &amp;&amp; 1 &lt; mItemsCount) &#123; /** *è¿™é‡Œå°±æ¯”è¾ƒå‘äº†ï¼ŒmMaxVisibleç«Ÿç„¶æ—¶æŒ‡çš„ä¸€è¾¹èƒ½çœ‹åˆ°çš„æœ€å¤§çš„æ•°-1ï¼Œ *å¦‚æœéœ€è¦è®¾ç½®å¯è§çš„æœ€å¤§æ•°å°±éœ€è¦åœ¨ *è°ƒç”¨CarouselLayoutManagerçš„setMaxVisibleItems()æ—¶è‡ªå·±å…ˆè®¡ç®—å¥½ã€‚ *æˆ–è€…å¯ä»¥ä¿®æ”¹è¿™ä¸ªé€»è¾‘ï¼Œå°†ä¸‹å¥æ”¹ä¸ºï¼š * * final int layoutCount = Math.min(mLayoutHelper.mMaxVisibleItems, mItemsCount); * *æˆ‘æ”¹ä¸ºè¿™æ ·ä¹Ÿæ²¡é‡åˆ°ä»€ä¹ˆé—®é¢˜ï¼Œæ‰€ä»¥è¿˜ä¸å¤ªæ˜ç™½ä¸ºä»€ä¹ˆè¦ *2 + 3, *æ¯•ç«ŸMaxVisibleItemsè¿™ä¸ªåç§°å¾ˆæœ‰è¿·æƒ‘æ€§ï¼Œä¸€èˆ¬éƒ½ä¼šè®¤ä¸ºå°±æ˜¯æ•´ä¸ªRecyclerviewå¯è§çš„Itemæ•°é‡å§ã€‚ *å¦‚æœä½ æœ‰å…¶ä»–æƒ³æ³•ä¹Ÿè¯·ä¸åèµæ•™ã€‚ **/ final int layoutCount = Math.min(mLayoutHelper.mMaxVisibleItems * 2 + 3, mItemsCount);// + 3 = 1 (center item) + 2 (addition bellow maxVisibleItems) //è¿™é‡Œå°±æ˜¯åœ¨mLayoutHelperä¸­åˆ›å»ºä¸€ä¸ªå¤§å°ä¸ºlayoutCountçš„æ•°ç»„ä¿å­˜itemçš„æ‘†æ”¾é¡ºåº mLayoutHelper.initLayoutOrder(layoutCount); //è®¡ç®—å‡ºæ¯ä¸€è¾¹çš„itemæ•°é‡ final int countLayoutHalf = layoutCount / 2; /** *ä¸‹é¢ä¸¤ä¸ªforå¾ªç¯å°±æ˜¯é‡ç‚¹äº†ï¼ŒAzoftå…ˆå‘å°†å·¦/ä¸Šé¢çš„itemä¾æ­£åºæ”¾å…¥ï¼Œå†å°†å³/ä¸‹é¢çš„itemä»¥å€’åºæ”¾å…¥ï¼Œæœ€åæ”¾å…¥ä¸­é—´item *å‡å¦‚æˆ‘ä»¬åˆ—è¡¨ä»å·¦åˆ°å³æœ‰5ä¸ªitemï¼Œä»–ä»¬åœ¨æ•°ç»„ä¸­çš„é¡ºåºæ—¶1 -&gt; 2 -&gt; 5 -&gt; 4 -&gt; 3 *è¿™æ ·åšçš„å¥½å¤„æ˜¯åœ¨ä¸æ”¯æŒZè½´çš„ä½ç‰ˆæœ¬Androidä¸­ï¼Œä¹Ÿèƒ½å®ç°è¶Šé è¿‘ä¸­é—´çš„itemå±‚çº§è¶Šé«˜ï¼Œ *å› ä¸ºandroidä¸­åæ”¾ç½®çš„viewåœ¨å‰ä¸€ä¸ªviewä¸Šä¸Šé¢ **/ // before center item for (int i = 1; i &lt;= countLayoutHalf; ++i) &#123; //å½“å¾ªç¯æ‰“å¼€æ—¶æ‘†æ”¾itemåé¢çš„å…ƒç´ å¯èƒ½å®é™…ä½ç½®æ˜¯åœ¨å®ƒå‰é¢ï¼Œå› æ­¤éœ€è¦å¤„ç† final int position = Math.round(absCurrentScrollPosition - i + mItemsCount) % mItemsCount; mLayoutHelper.setLayoutOrder(countLayoutHalf - i, position, centerItem - absCurrentScrollPosition - i); &#125; // after center item for (int i = layoutCount - 1; i &gt;= countLayoutHalf + 1; --i) &#123; final int position = Math.round(absCurrentScrollPosition - i + layoutCount) % mItemsCount; mLayoutHelper.setLayoutOrder(i - 1, position, centerItem - absCurrentScrollPosition + layoutCount - i); &#125; mLayoutHelper.setLayoutOrder(layoutCount - 1, centerItem, centerItem - absCurrentScrollPosition); &#125; else &#123; ... &#125; generateLayoutOrder()ä¸­ç¡®å®šäº†å³å°†æ˜¾ç¤ºå‡ºæ¥çš„itemä»¥åŠä»–ä»¬çš„åŠ å…¥é¡ºåºï¼Œæ¥ä¸‹æ¥å°±è¦è¿›å…¥åˆ°å†…å®¹å¡«å……äº†ï¼Œæˆ‘ä»¬å‡è®¾orentationä¸ºhrizontalç»§ç»­åˆ†æï¼š 1234567891011121314151617181920212223242526private void fillDataHorizontal(final RecyclerView.Recycler recycler, final int width, final int height, final boolean childMeasuringNeeded) &#123; /** *ç”±äºæ¨ªå‘å¸ƒå±€æ—¶ä¸­å¿ƒé«˜åº¦ä¸å˜ï¼Œå› æ­¤ç›´æ¥è®¡ç®—å¾—å‡ºã€‚ *Azoftæ˜¯æ ¹æ®setScaleå®ç°ç¼©æ”¾çš„ï¼Œå› æ­¤itemçš„widthå’Œheightå¹¶ä¸ä¼šå˜ï¼Œä¸ç”¨æ‹…å¿ƒè®¡ç®—ç»“æœä¸åŒ *å¦‚æœè¦å®ç°ä¸­å¿ƒé«˜åº¦ä¸ä¸€è‡´ï¼Œä¸å»ºè®®ç›´æ¥åœ¨è¿™é‡Œä¿®æ”¹ï¼Œåé¢ä¼šæåˆ°å¦ä¸€ä¸ªæ–¹æ³•ã€‚ *å¦‚æœä¸€å®šè¦åœ¨è¿™é‡Œä¿®æ”¹éœ€è¦æ³¨æ„æ ¹æ®ä¸åŒPositionè®¡ç®—å‡ºç›¸åº”çš„å€¼ï¼Œæ¯•ç«Ÿå…¨éƒ¨æé«˜50dpç­‰äºæ²¡æœ‰æé«˜ã€‚ **/ final int top = (height - mDecoratedChildHeight) / 2; final int bottom = top + mDecoratedChildHeight; final int centerViewStart = (width - mDecoratedChildWidth) / 2; for (int i = 0, count = mLayoutHelper.mLayoutOrder.length; i &lt; count; ++i) &#123; final LayoutOrder layoutOrder = mLayoutHelper.mLayoutOrder[i]; /** *è¿™ä¸ªå‡½æ•°æ—¶æ ¹æ®itemçš„ä½ç½®è®¡ç®—å‡ºäº†å®ƒä»¬ç›¸å¯¹äºä¸­å¿ƒçš„åç§»è·ç¦»ï¼Œ *å¦‚æœè®¤ä¸ºitemä¹‹é—´è·ç¦»ä¸åˆé€‚å¯ä»¥ä¿®æ”¹è¿™ä¸ªå‡½æ•°çš„è®¡ç®—é€»è¾‘ *å†…å®¹å¾ˆç®€å•å°±ä¸è¿›å»åˆ†æäº†ï¼ŒAzoftä½¿ç”¨äº†Math.round()åŠMath.signum()è®¡ç®—ç»“æœï¼Œä¿è¯äº†ä¸­å¿ƒçš„itemä¸ä¼šæœ‰åç§»ï¼Œä¿®æ”¹æ°´å¹³çš„åç§»å¯ä»¥å‚è€ƒè¿™ä¸ªå‡½æ•°çš„æ€è·¯ã€‚ **/ final int offset = getCardOffsetByPositionDiff(layoutOrder.mItemPositionDiff); final int start = centerViewStart + offset; final int end = start + mDecoratedChildWidth; //è¿™ä¸ªå‡½æ•°å°±æ˜¯onLayoutChildren()çš„å°½å¤´äº†ï¼Œé‡Œé¢å®Œæˆäº†å±•ç¤ºå·¥ä½œã€‚ fillChildItem(start, top, end, bottom, layoutOrder, recycler, childMeasuringNeeded); &#125;&#125; æˆ‘ä»¬è¿›å…¥fillChidrenItem()ä¸­ï¼š 1234567891011121314151617181920212223242526private void fillChildItem(final int start, final int top, final int end, final int bottom, @NonNull final LayoutOrder layoutOrder, @NonNull final RecyclerView.Recycler recycler, final int i, final boolean childMeasuringNeeded) &#123; //åˆ›å»ºå‡ºviewå¹¶åŠ å…¥ final View view = bindChild(layoutOrder.mItemAdapterPosition, recyclerchildMeasuringNeeded); //è¿™é‡Œè®¾ç½®äº†viewçš„å±‚çº§ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ—¶æŒ‰ç…§ç‰¹æ®Šé¡ºåºåˆ›å»ºçš„itemViewï¼Œè¿™ä¸€å¥å¹¶ä¸å¿…è¦ ViewCompat.setElevation(view, i); ItemTransformation transformation = null; if (null != mViewPostLayout) &#123; /** *å½“ViewPostLayoutä¸ä¸ºç©ºæ—¶è·å–åŠ¨ç”»æ•ˆæœï¼Œè¿™ä¸ªæ²¡æœ‰é»˜è®¤å€¼ï¼Œéœ€è¦è°ƒç”¨ * CarouselLayoutManager.setPostLayoutListener() *æ‰‹åŠ¨è®¾ç½®ï¼Œä½†Azoftå·²ç»å®ç°äº†ä¸€ä¸ªåŠ¨ç”»æ•ˆæœï¼Œå°±åœ¨CarouselZoomPostLayoutListener.javaä¸­ *sampleä¸­ä¹Ÿæ˜¯ä½¿ç”¨äº†è¿™ä¸ªPostListenerï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å®šåˆ¶CarouselLayoutManagerï¼ŒåŸºæœ¬ä¸Šå‚è€ƒè¿™ä¸ªå°±è¡Œäº†ã€‚ **/ transformation = mViewPostLayout.transformChild(view, layoutOrder.mItemPositionDiff, mOrientation); &#125; //ä¸‹é¢å°±æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œå°†å‰é¢è®¡ç®—å‡ºçš„æ•°æ®è®¾ç½®ç»™å­itemï¼Œå®Œæˆäº†æ•´ä¸ªç»˜åˆ¶è¿‡ç¨‹ã€‚ if (null == transformation) &#123; view.layout(start, top, end, bottom); &#125; else &#123; view.layout(Math.round(start + transformation.mTranslationX), Math.round(top + transformation.mTranslationY), Math.round(end + transformation.mTranslationX), Math.round(bottom + transformation.mTranslationY)); ViewCompat.setScaleX(view, transformation.mScaleX); ViewCompat.setScaleY(view, transformation.mScaleY); &#125;&#125; å› æ­¤æˆ‘ä»¬æœ€åçœ‹çœ‹CarouselZoomPostLayoutListener.javaï¼š 1234567891011121314151617181920212223242526public class CarouselZoomPostLayoutListener implements CarouselLayoutManager.PostLayoutListener &#123; @Override public ItemTransformation transformChild(@NonNull final View child, final float itemPositionToCenterDiff, final int orientation) &#123; /** *è¿™ä¸ªè®¡ç®—ç¼©æ”¾çš„æ–¹æ³•æŠŠæˆ‘çœ‹æ‡µäº†ï¼Œæœ€åç”¨è½¯ä»¶ç”»å‡ºæ¥å°±æ˜¯ä¸€ä¸ªç›¸å¯¹Yè½´å¯¹ç§°çš„å±±åŒ…æ ·å¼ï¼Œè¦ä¿®æ”¹ç¼©æ”¾æ¢¯åº¦ä¹Ÿå¾ˆç®€å•ï¼Œ *åªéœ€è¦å°†itemPositionToCenterDiffä¹˜ä»¥æˆ–è€…é™¤ä»¥ä¸€ä¸ªæ¯”ä¾‹å°±è¡Œäº†ã€‚ **/ final float scale = (float) (2 * (2 * -StrictMath.atan(Math.abs(itemPositionToCenterDiff) + 1.0) / Math.PI + 1)); // because scaling will make view smaller in its center, then we should move this item to the top or bottom to make it visible //å…¶å®å°±æ˜¯åœ¨ç¼©æ”¾åä¿®æ­£viewçš„ä½ç½®ï¼Œè®©å®ƒå†æ¬¡å±…ä¸­ï¼Œå› ä¸ºç¼©æ”¾å¹¶éä»¥viewçš„ä¸­å¿ƒä¸ºé”šç‚¹ã€‚æ‰€ä»¥å¦‚æœéœ€è¦å°†ä¸¤ä¾§çš„viewä¸Šç§»æˆ–è€…ä¸‹ç§»ä¿®æ”¹è¿™é‡Œå°±å¥½äº† final float translateY; final float translateX; if (CarouselLayoutManager.VERTICAL == orientation) &#123; final float translateYGeneral = child.getMeasuredHeight() * (1 - scale) / 2f; translateY = Math.signum(itemPositionToCenterDiff) * translateYGeneral; translateX = 0; &#125; else &#123; final float translateXGeneral = child.getMeasuredWidth() * (1 - scale) / 2f; translateX = Math.signum(itemPositionToCenterDiff) * translateXGeneral; translateY = 0; &#125; return new ItemTransformation(scale, scale, translateX, translateY); &#125;&#125; è‡³æ­¤æˆ‘ä»¬å°±å¤§æ¦‚æ¢³ç†å®Œäº†CarouselLayoutManagerçš„æµç¨‹ï¼Œä½†æ˜¯é€šè¿‡ç›®å‰è¿™äº›æˆ‘ä»¬å·²ç»å¯ä»¥å»è®¢åˆ¶CarouselLayoutManageräº†ã€‚ å‘ç”±äºæˆ‘ä»¬æ˜¯é€šè¿‡å¦ç±»çš„é¡ºåºåŠ å…¥çš„viewï¼Œå› æ­¤ç›´æ¥è°ƒç”¨recyclerview.getChildAt()è·å–åˆ°çš„viewå¯èƒ½å¹¶éä½ å¸Œæœ›å¾—åˆ°çš„æƒ³è¦çš„ï¼ˆå½“ç„¶å°±ç®—æ—¶æ™®é€šrecyclerviewä¹Ÿå¯èƒ½ä¸æ˜¯ï¼‰ï¼Œå› æ­¤ä½¿ç”¨Azoftå®ç°çš„ä¸€ä¸ªç›‘å¬å™¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚å¦‚æœä½ è®¾å®šäº†å¾ªç¯æ¨¡å¼ï¼Œé‚£ä¹ˆè¿˜æœ‰ä¸€ä¸ªæ›´ç®€å•çš„è§£å†³çš„æ–¹æ³•ã€‚æˆ‘ä»¬çš„æ”¾å…¥é¡ºåºå†³å®šäº†å½“å‰è¢«é€‰ä¸­çš„ï¼ˆä¸­é—´çš„Viewï¼‰ä¸€å®šæ˜¯ç¬¬recyclerview.getChildCount()-1ä¸ªï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªï¼Œå› æ­¤å¯ä»¥ç›´æ¥é€šè¿‡recyclerview.getChildAt(recyclerview.getChildCount()-1)å°±å¯ä»¥è·å–åˆ°è¢«é€‰ä¸­çš„viewã€‚ ä»¥ä¸Šåœ¨é˜…è¯»æºç çš„è¿‡ç¨‹ä¸­ä¸€å¼€å§‹çœŸçš„æ— ä»ä¸‹æ‰‹ï¼Œå…‰æ˜¯CarouselLayoutManager.javaå°±æœ‰800å¤šè¡Œä»£ç ï¼Œé‚£ä¹ˆå¤šæ–¹æ³•å’Œå†…éƒ¨ç±»ï¼Œä¸€è¡Œä¸€è¡Œåœ°çœ‹å¾ˆå¿«å°±å¤´æ™•çœ¼èŠ±äº†ï¼Œä½†æ˜¯åœ¨äº†è§£äº†LayoutManageråŸç†ä»¥åŠç»˜åˆ¶è¿‡ç¨‹åï¼Œæ ¹æ®æµç¨‹ä¸€æ­¥ä¸€æ­¥èµ°ï¼Œæ€è·¯å°±æ…¢æ…¢æ¸…æ™°äº†èµ·æ¥ã€‚ç¬¬ä¸€æ¬¡å†™æºç åˆ†æï¼Œåœ¨ç¼–å†™è¿‡ç¨‹ä¸­å‘ç°è‡ªå·±è¿˜æ˜¯æœ‰å¾ˆå¤šæ²¡å¼„æ‡‚çš„åœ°æ–¹ï¼Œæ•´ä¸ªæ–‡ç« å†™å®Œåˆå­¦ä¹ åˆ°ä¸å°‘ä¸œè¥¿ï¼Œä½†æ˜¯å¯èƒ½å†™å¾—å¾ˆä¹±ï¼Œå¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–è€…å»ºè®®è¯·ç›´æ¥ç•™è¨€ã€é‚®ä»¶ã€QQå‚è¯¢ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"http://yoursite.com/tags/Android/"},{"name":"æºç åˆ†æ","slug":"æºç åˆ†æ","permalink":"http://yoursite.com/tags/æºç åˆ†æ/"}]},{"title":"Android TVå¼€å‘ç¬”è®°ä¸€","date":"2017-10-18T15:38:14.000Z","path":"2017/10/18/Android-TVå¼€å‘ç¬”è®°ä¸€/","text":"ä»Šå¤©åœ¨å¼€å‘TV Launcheræ—¶ä½¿ç”¨RecyclerViewå®ç°ç•Œé¢æ—¶é‡åˆ°äº†é¥æ§å™¨æ— æ³•å¯¹ç„¦çš„é—®é¢˜ï¼Œä½†è¿æ¥ä¸Šé¼ æ ‡åæ²¡æœ‰é—®é¢˜ï¼Œå› æ­¤éœ€è¦é…ç½®RecyclerViewçš„Itemè·å–ç„¦ç‚¹ã€‚ä¸€èˆ¬çš„åšæ³•æ˜¯å°†RecyclerViewä¸ViewHolderçš„itemViewå‡è®¾ä¸ºå¯ç‚¹å‡»ï¼Œç„¶åå¯¹ç„¦ç‚¹å˜æ›´æ—¶é—´è¿›è¡Œç›‘å¬ï¼Œå½“RecyclerViewè·å–åˆ°ç„¦ç‚¹æ—¶åˆ†å‘ç»™itemï¼š 1234567891011121314151617181920212223242526272829public MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; &#123; ... class MyViewHolder extends RecyclerView.ViewHolder &#123; MyViewHolder(View itemView)&#123; super(itemView); itemView.setFocusable(true); &#125; &#125;&#125;.../**è¿™é‡Œä¹Ÿå¯ä»¥åœ¨xmlæ–‡ä»¶ä¸­è®¾ç½®focusable = \"true\"*/RecyclerView rv = (RecyclerView) findViewById(R.id.recyclerView);rv.setFocusable(true);//RecyclerViewç›‘å¬ç„¦ç‚¹æ”¹å˜äº‹ä»¶rv.setOnFocusChangeListener(new View.OnFocusChangeListener() &#123; @Override public void onFocusChange(View v, boolean hasFocus) &#123; if (hasFocus)&#123; //å…ˆåˆ¤æ–­æ˜¯å¦æœ‰å­æ§ä»¶ï¼Œé˜²æ­¢ç©ºæŒ‡é’ˆã€‚ if (rv.getChildCount() &gt; 0)&#123; //æˆ‘é»˜è®¤ä½¿ç¬¬ä¸€ä¸ªitemè·å–ç„¦ç‚¹ï¼Œå¯ä»¥ä»»æ„ä¿®æ”¹ irv.getChildAt(0).requestFocus(); &#125; &#125; &#125; &#125;); ä»¥ä¸Šä»£ç å°±èƒ½ä½¿RecyclerViewå¾—åˆ°ç„¦ç‚¹ååˆ†é…ç»™å­æ§ä»¶ï¼Œè§£å†³ç”µè§†é¥æ§å™¨æ— æ³•ä½¿RecyclerViewæ»šåŠ¨çš„é—®é¢˜ã€‚ ä½†æ˜¯ã€‚ã€‚ã€‚è¿™æ˜¯ä»¥å‰çš„è§£å†³æ–¹æ³•ï¼Œä»Šå¤©åœ¨ä½¿ç”¨ä¸€ä¸ªå¤æ‚çš„LayoutManageræ—¶å‘ç°å­æ§ä»¶è·å–åˆ°äº†ç„¦ç‚¹ï¼Œä½†ä¸çŸ¥æ˜¯ç„¦ç‚¹é—ªçƒè¿˜æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´ä¸åœæŒ‰æŒ‰é’®æ‰èƒ½æ»‘åŠ¨åˆ°ä¸‹ä¸€ä¸ªitemï¼Œè¿™ä¸ªç›®å‰è¿˜æ²¡æœ‰å‘ç°åŸå› ï¼Œä½†æ˜¯ç”±äºè¿™ä¸ªé—®é¢˜åªåœ¨é¥æ§å™¨æ§åˆ¶æ—¶å‡ºç°ï¼Œæ‰€ä»¥æƒ³è¦è§£å†³è¿˜æ˜¯å¾ˆç®€å•çš„ã€‚ è§£å†³æ–¹æ³•ä¾¿æ˜¯ï¼Œç¦æ­¢itemViewè·å–ç„¦ç‚¹ï¼Œç„¶åç”±RecyclerViewç›‘å¬æŒ‰é”®äº‹ä»¶ï¼Œå½“è·å–åˆ°é¥æ§å™¨æŒ‰ä¸‹å·¦æˆ–å³æ—¶è°ƒç”¨smoothScrollToPosition(int position)çš„æ–¹æ³•å®Œæˆåˆ‡æ¢ï¼Œä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718rv.setOnKeyListener(new View.OnKeyListener() &#123; @Override public boolean onKey(View v, int keyCode, KeyEvent event) &#123; iif (event.getAction() == KeyEvent.ACTION_UP)&#123; switch (keyCode)&#123; case KEY_LEFT: itemList.smoothScrollToPosition(lastPos); return true; case KET_RIGHT: itemList.smoothScrollToPosition(nextPos); return true; default: return false; &#125; &#125; return false; &#125; &#125;); è‡³äºä¸ºä»€ä¹ˆä¼šå‡ºç°ç±»ä¼¼ç„¦ç‚¹é—ªçƒçš„é—®é¢˜ï¼Œæœ‰å¾…ç ”ç©¶ï¼Œå¸Œæœ›çŸ¥é“çš„å¤§ç¥ä»¬èƒ½ç‚¹æ‹¨ä¸€ä¸‹ğŸ˜‚ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"http://yoursite.com/tags/Android/"},{"name":"TV å¼€å‘","slug":"TV-å¼€å‘","permalink":"http://yoursite.com/tags/TV-å¼€å‘/"}]},{"title":"Kotlinå­¦ä¹ ç¬”è®°äºŒ","date":"2017-05-21T02:43:29.000Z","path":"2017/05/21/Kotlinå­¦ä¹ ç¬”è®°äºŒ/","text":"å±æ€§å’Œå­—æ®µå±æ€§å£°æ˜å®˜æ–¹æ–‡æ¡£æœ‰è¿™æ ·ä¸€æ®µè¯ å…¶åˆå§‹å™¨ï¼ˆinitializerï¼‰ã€getter å’Œ setter éƒ½æ˜¯å¯é€‰çš„ã€‚å±æ€§ç±»å‹å¦‚æœå¯ä»¥ä»åˆå§‹å™¨ ï¼ˆæˆ–è€…ä»å…¶ getter è¿”å›å€¼ï¼Œå¦‚ä¸‹æ–‡æ‰€ç¤ºï¼‰ä¸­æ¨æ–­å‡ºæ¥ï¼Œä¹Ÿå¯ä»¥çœç•¥ã€‚ä¾‹å¦‚: 1234var allByDefault: Int? // é”™è¯¯ï¼šéœ€è¦æ˜¾å¼åˆå§‹åŒ–å™¨ï¼Œéšå«é»˜è®¤ getter å’Œ setter...val simple: Int? // ç±»å‹ Intã€é»˜è®¤ getterã€å¿…é¡»åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–... é™„å¸¦çš„å®ä¾‹ä»£ç è®©æˆ‘ä»¥ä¸º simple: Int? ``` è¿™ç§å†™æ³•æ˜¯æ­£ç¡®çš„ï¼Œ**val**ä¸**var**åœ¨å£°æ˜ä¸­ç”±äº**Getterä¸Setter**çš„ä¸åŒå¯¼è‡´å£°æ˜æ–¹å¼å­˜åœ¨å·®å¼‚ã€‚ä½†æ˜¯å®é™…ä¸Šä¸æ˜¯è¿™æ ·çš„ã€‚123456789101112åœ¨ç±»çš„å£°æ˜ä¸­ä»¥ä¸Šä¸¤ç§å†™æ³•å‡æ— æ³•é€šè¿‡ç¼–è¯‘ã€‚``` kotlinclass Person constructor()&#123; var name: String? val age : Int? init&#123; name = &quot;åå­—&quot; age = 7 &#125;&#125; å¦‚æœä¸ä¸ºå±æ€§ç›´æ¥æŒ‡å®šå€¼var name = &quot;åå­—&quot;é‚£ä¹ˆå°±è¦åœ¨initä¸­è¿›è¡Œåˆå§‹åŒ–ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºå±æ€§æ·»åŠ lateinitä¿®é¥°ç¬¦ä½¿ç©ºå±æ€§é¿å…åˆå§‹åŒ– 1234class Person constructor()&#123; lateinit var name : String &#125; ä¸Šé¢ä»£ç å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼Œä½†æ˜¯è¿™é‡Œçš„pä¸èƒ½æ˜¯åŸç”Ÿç±»å‹å¦‚Intï¼Œå¹¶ä¸”åªèƒ½æ˜¯varå±æ€§ã€‚ å¹•åå­—æ®µå¹•åå­—æ®µæ˜¯ä¸­æ–‡æ–‡æ¡£çš„ç¿»è¯‘ï¼ŒåŸæ–‡ä¸ºfieldï¼Œä½†æ˜¯åœ¨æˆ‘çš„å°è±¡ä¸­è¿™ä¸ªå•è¯åº”è¯¥ä¸€èˆ¬è®¤ä¸ºæ˜¯åŸŸï¼Œåœ¨æ¡ˆä¾‹ä»£ç çš„ä½¿ç”¨åœºæ™¯æ˜¯setterå‡½æ•°ä¸­çš„èµ‹å€¼ã€‚ 12345678910111213class Person constructor()&#123; var name = \"è€æ\" set(n)&#123; name = n &#125; &#125;fun main(args: Array&lt;String&gt;) &#123; val p = Person(); println(p.name) p.name = \"è€ç‹\" println(p.name)&#125; ä¸Šè¿°ä»£ç æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„ï¼Œè™½ç„¶æˆ‘ä»¬æŒ‡å®šäº†nameä¸ºå¯å˜çš„varç±»å‹ï¼Œä½†æ˜¯setå‡½æ•°ä¸­æ— æ³•ç›´æ¥å¼•ç”¨nameï¼Œå› æ­¤æˆ‘ä»¬å°†å‡½æ•°ä¿®æ”¹ä¸ºï¼š 1234var name = \"è€æ\" set(n)&#123; field = n &#125; å°±å¯ä»¥è¿è¡Œäº†ï¼Œå½“ç„¶å¦‚æœä¸éœ€è¦åœ¨setå‡½æ•°ä¸­å®ç°ç‰¹æ®ŠåŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ä¸æ˜¾ç¤ºå£°æ˜è¿™ä¸ªå‡½æ•° 123456789class Person constructor()&#123; var name = \"è€æ\"&#125;fun main(args: Array&lt;String&gt;) &#123; val p = Person(); println(p.name) p.name = \"è€ç‹\" println(p.name)&#125; ä¸Šè¿°ä»£ç ä¹Ÿæ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ã€‚ è¿™é‡Œçš„ä¸èƒ½å¼•ç”¨ä»…ä»…æ˜¯åœ¨å±æ€§çš„SETTERä¸GETTERå‡½æ•°ä¸­ï¼Œç±»å£°æ˜çš„å‡½æ•°æ˜¯å¯ä»¥ç›´æ¥è°ƒç”¨çš„ï¼š 123456class Person()&#123; var name = \"è€æ\" fun print()&#123; println(name) &#125;&#125; æˆ‘ç†è§£çš„fieldå°±æ˜¯å±æ€§åœ¨Getterå’ŒSetterä¸­å¯¹è‡ªèº«çš„å¼•ç”¨ï¼Œç±»ä¼¼äºJavaä¸­çš„thisï¼Œæˆ‘ä»¬åœ¨å…¶ä»–å±æ€§çš„Setterå’ŒStterä¸­ä¾ç„¶å¯ä»¥ç›´æ¥å¼•ç”¨å±æ€§: 123456789101112class Person constructor()&#123; private var age = 12 var getAge : Int get() = age set(a)&#123; age = a &#125; var name = \"è€æ\" set(name)&#123; field = name &#125;&#125; å¯è§æ€§ä¿®é¥°ç¬¦Kotlinä¸­çš„å¯è§æ€§ä¿®é¥°ç¬¦ä¸Javaä¸­ç¨æœ‰å·®å¼‚ã€‚Kotlinä¸­ä¸æŒ‡å®šä»»ä½•ä¿®é¥°ç¬¦åˆ™é»˜è®¤ä¸ºpublicï¼Œè€Œinternalä¸ºåœ¨åŒæ„æ¨¡å—ä¸­å¯è§ï¼Œä¸Javaä¸­çš„ç¼ºçœä¿®é¥°ç¬¦ç±»ä¼¼ã€‚è€Œprotectedè™½ç„¶ä»ç„¶å­˜åœ¨å´ä¸æ¨èä½¿ç”¨åœ¨é¡¶å±‚å£°æ˜ã€‚ éœ€è¦è¯´æ˜çš„ä¸€ç‚¹æ˜¯privateçš„å®šä¹‰æ˜¯åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸‹æ‰å¯è¢«è®¿é—®ï¼Œç„¶è€Œå®é™…ä¸Šä»ç„¶æ˜¯åœ¨ç±»ä¸­æ‰å¯è¢«è®¿é—®ï¼Œå¦‚æœæˆ‘ä»¬å°†ä¸‹åˆ—ä»£ç å†™åœ¨åŒä¸€.ktæ–‡ä»¶ä¸­ä»ç„¶ä¸èƒ½è¿è¡Œï¼š 1234567class Person constructor()&#123; private var name = \"è€æ\"&#125;fun main(args: Array&lt;String&gt;) &#123; val p = Person(); print(p.name)&#125; è¿™é‡Œä¹Ÿè®¸æ˜¯æŒ‡çš„ç¼–è¯‘åçš„æ–‡ä»¶ã€‚ æ‰©å±•å±æ€§å…³äºæ‰©å±•å±æ€§éœ€è¦è¯´æ˜çš„ä¸€ç‚¹æ˜¯æ‰©å±•å±æ€§æ²¡æœ‰å¹•åå­—æ®µï¼Œæ‰€ä»¥æ‰©å±•å±æ€§ä¸èƒ½æœ‰åˆå§‹åŒ–å™¨ï¼Œåœ¨Setterå’ŒGetterä¸­ä¹Ÿä¸èƒ½é€šè¿‡fieldæ¥ä¿®æ”¹å€¼ï¼Œå› æ­¤ä½¿ç”¨åœºæ™¯éœ€è¦æ–Ÿé…Œã€‚ å¯†å°ç±»å¯†å°ç±»çš„å«ä¹‰çœ‹ä¸­æ–‡æ–‡æ¡£å’Œä»£ç å®Œå…¨æ²¡æ‡‚æ˜¯ä»€ä¹ˆæ„æ€ã€‚åæ¥åˆæ‰¾äº†äº›èµ„æ–™ï¼Œå¤§æ¦‚ç†è§£äº†å¯†å°ç±»æ˜¯ä½œä¸ºç±»ä¼¼æšä¸¾çš„å­˜åœ¨ï¼Œå¯†å°ç±»çš„æ¯ä¸ªå­ç±»éƒ½æ˜¯æšä¸¾å¸¸é‡ï¼Œå¯ä»¥é€šè¿‡is çˆ¶ç±».å­ç±»è¿›è¡Œç±»å‹åˆ¤æ–­ã€‚ ä¸æ™®é€šæšä¸¾ä¸åŒçš„æ˜¯å¯†å°ç±»çš„å­ç±»å¯ä»¥æœ‰å¤šä¸ªå®ä¾‹ï¼Œè€Œæšä¸¾å¸¸é‡åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚ ä½¿ç”¨å¯†å°ç±»çš„å¥½å¤„å°±æ˜¯å·²çŸ¥äº†å­ç±»çš„æ‰€æœ‰å¯èƒ½ç±»å‹ï¼Œä¾¿äºè¿›è¡Œåˆ¤æ–­å¤„ç†ã€‚ ä¼´ç”Ÿå¯¹è±¡ä¼´ç”Ÿå¯¹è±¡å¯é€šè¿‡ç±»å.æ–¹æ³•è¿›è¡Œè°ƒç”¨ï¼Œè™½ç„¶çœ‹èµ·æ¥å¾ˆåƒJavaä¸­ç±»çš„é™æ€æˆå‘˜ï¼Œä½†å®é™…ä¸Šä¼´ç”Ÿå¯¹è±¡ä»ç„¶æ˜¯ç±»çš„å®ä¾‹çš„çš„å®ä¾‹æˆå‘˜ã€‚","tags":[{"name":"Kotlin","slug":"Kotlin","permalink":"http://yoursite.com/tags/Kotlin/"}]},{"title":"Kotlinå­¦ä¹ ç¬”è®°ä¸€","date":"2017-05-18T15:23:12.000Z","path":"2017/05/18/Kotlinå­¦ä¹ ç¬”è®°ä¸€/","text":"ä»Šå¤©çš„Googleå¼€å‘è€…å¤§ä¼šé™¤äº†å®£å¸ƒGoogleçš„æˆ˜ç•¥é‡ç‚¹ä»ç§»åŠ¨ç«¯è½¬ç§»åˆ°AIé¢†åŸŸå¤–ï¼Œå¦ä¸€å‘é‡ç‚¹å°±æ˜¯é’¦å®šäº†Kotlinä¸ºä»¥åAndroidå¼€å‘çš„ç¬¬ä¸€è¯­è¨€ã€‚ Kotlinçš„å¤§åæˆ‘æ˜¯æ—©æœ‰è€³é—»ï¼Œä½†æ˜¯ä¸€ç›´æ‡’æ²¡æœ‰å»å­¦ï¼Œè€Œä¸”å½“æ—¶Kotlinç›®å‰ä¹Ÿä»å¤„äºå‘å±•ä¸­ã€‚å¦‚ä»Šæœ‰äº†Googleçš„é¼åŠ›æ”¯æŒï¼Œå†åŠ ä¸Šæˆ‘æœ€è¿‘é¢“åºŸè‡³æä¹Ÿè¯¥æ‰¾ç‚¹äº‹åšï¼Œäºæ˜¯å»æœé›†äº†Kotlinçš„å¼€å‘èµ„æ–™å¼€å§‹å­¦ä¹ ã€‚ æˆ‘ä½¿ç”¨çš„å­¦ä¹ èµ„æ–™æ˜¯ä¸çŸ¥è°ç¿»è¯‘çš„Kotlinå®˜æ–¹æ–‡æ¡£ä¸­æ–‡ç‰ˆã€‚ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯ä»è¯­æ³•å¼€å§‹ã€‚ä½†æ˜¯å¦‚æœä½ ä¹Ÿæ˜¯ä¸ºäº†Androidåº”ç”¨å¼€å‘ï¼ˆç›®å‰Kotlinçš„ä¸»è¦åº”ç”¨é¢†åŸŸï¼‰ï¼Œé‚£ä¹ˆä¹Ÿè®¸ä½ ä¹Ÿç†Ÿæ‚‰äº†Javaè¯­è¨€ï¼Œå­¦ä¹ Kotlinå°±ååˆ†è½»æ¾äº†ï¼Œæˆ‘åªè®°å½•ä¸‹è‡ªå·±è®¤ä¸ºçš„é‡ç‚¹ã€‚- KotlinåŸºæœ¬è¯­æ³• ä¸éœ€è¦;ä½œä¸ºå¥æœ« varä¸valçš„åŒºåˆ«ï¼šKotlinä¸­æ‰€æœ‰çš„å˜é‡é¦–å…ˆéƒ½æ˜¯å£°æ˜ä¸ºvalæˆ–è€…varï¼Œå†èµ‹å€¼ï¼Œè‹¥ä¸èµ‹å€¼å†æŒ‡å®šç±»å‹ã€‚valä¸ºåªè¯»ç±»å‹ï¼Œvarä¸ºå¯è¯»å†™ 1234567val a = 1 // ç›´æ¥èµ‹å€¼Kotlinä¼šè¯†åˆ«æ•°æ®ç±»å‹var b : Int //Inté¦–å­—æ¯å¤§å†™ï¼›æŒ‡å®šbçš„æ•°æ®ç±»å‹ä¸ºinta = 2 //è¿è¡Œå‡ºé”™ï¼Œaå€¼ä¸å¯å˜b = 1b = 2 //ä¿®æ”¹bçš„å€¼æ­£å¸¸è¿è¡Œ whençš„ç‰¹æ®Šä½¿ç”¨ 1234567val a = 1when(a)&#123; 1 -&gt; println(\"a == 1\") is Int -&gt; println(\"a is int\") else -&gt; println(\"unkown\") &#125;//è¾“å‡ºä¸º â€œa == 1â€ ä¸Šé¢è¿™æ®µä»£ç å¯ä»¥çœ‹å‡ºwhenæ›¿ä»£äº†javaä¸­switchçš„ä½œç”¨ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯è¿™é‡Œæ²¡æœ‰breakï¼Œè™½ç„¶aæ—¢ç­‰äº1åˆæ˜¯intä½†æ˜¯è¾“å‡ºåˆ¤æ–­å‡ºç¬¬ä¸€ä¸ªæ¡ä»¶æ­£ç¡®åç«‹å³è·³å‡ºï¼Œä¸ä¼šå†ç»§ç»­å‘ä¸‹åˆ¤æ–­ã€‚ å‡ ç§åŒºé—´æ¯”è¾ƒ:Kotlinä¸­æœ‰å‡ ç§è¡¨ç¤ºèŒƒå›´çš„æ–¹æ³• 123456for(i in 1..10)&#123;...&#125; //è¿™ç§æƒ…å†µä¸‹å¾ªç¯ä¸­iä¼šå–1åˆ°10for(i in 10..1)&#123;...&#125; //ç›´æ¥ç»“æŸå¾ªç¯for(i in 1..10 step 4)&#123;...&#125; //i = 1,5,9for(i in 10 downTo 1)&#123;...&#125; //iå–10åˆ°1for(i in 10 downTo 1 step 4) //i = 10,6,2for(i in 1 until 10)&#123;...&#125; //iå–1åˆ°9 breakä¸continueçš„ä½¿ç”¨ï¼šé™¤äº†åœ¨Javaä¸­çš„æ™®é€šç”¨æ³•ï¼ŒKotlinè¿˜æ”¯æŒåŸºäºæ ‡ç­¾çš„ç”¨æ³• 12345678910111213141516a@ for(i in 1..3) //æ ‡ç­¾ä¸ºä»»æ„å­—ç¬¦ä¸²+@ å¦‚ï¼šloop@ã€abc@ç­‰ b@ for(j in 1..3)&#123; println(\"$i + $j\") if(i==2) continue@a //æ³¨æ„è¿™é‡Œcontinueä¸@ä¹‹é—´æ— ç©ºæ ¼ï¼Œæ‰§è¡Œåç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡ else if(j==2) break@b //breakä¸@ä¹‹é—´ä¹Ÿä¸éœ€è¦ç©ºæ ¼ï¼Œæ‰§è¡Œåç›´æ¥ç»“æŸå¾ªç¯ï¼Œæ‰§è¡Œåé¢çš„ä»£ç  &#125;/**1 + 1*1 + 2*2 + 1*3 + 1*3 + 2*/ å…³äºå…¶ä»–å†…å®¹æ–‡æ¡£é‡Œé¢å†™å¾—å¾ˆä»”ç»†ï¼Œæˆ‘å°±ä¸å†èµ˜è¿°ï¼Œè¿™é‡Œæ˜¯çœ‹æ–‡æ¡£æ—¶ä¸å¤ªæ˜ç™½çš„åœ°æ–¹é€šè¿‡ç¼–ç¨‹æµ‹è¯•åå¾—å‡ºçš„ç»“æœã€‚ - ###ç±»ä¸ç»§æ‰¿ ç±»çš„ä¸»æ„é€ å‡½æ•°ç›´æ¥è·Ÿåœ¨ç±»åä¹‹å 123456789/**ä½ åœ¨Javaé‡Œé¢è¿™æ ·å†™*class Person&#123;* Person(String firstName)&#123;&#125;*&#125;*ä½†æ˜¯åœ¨Kotlinä¸­ä½ å¯ä»¥è¿™æ ·å†™*/class Person constructor(firstName: String)&#123;&#125; //æ ‡å‡†å†™æ³•class Person(firstName: String)&#123;&#125; //å½“ä¸»æ„é€ å‡½æ•°æ²¡æœ‰å¯è§ä¿®é¥°ç¬¦åŠæ³¨è§£æ—¶å¯çœç•¥ constructor å…³é”®å­—class Person(firstName: Sring) //å½“ç±»æ²¡æœ‰ç±»ä½“å¯çœç•¥èŠ±æ‹¬å· ä¸»æ„é€ å‡½æ•°ä¸èƒ½æœ‰ä»£ç ï¼Œåˆå§‹åŒ–æ“ä½œè¦æ”¾å…¥initä»£ç å—ä¸­ 123456789101112class Person(String name)&#123; val personName = name //ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ init()&#123; println(\"name is $name\") &#125;&#125;class Person(val personName: String)&#123; //ç›´æ¥åˆå§‹åŒ–å±æ€§ init()&#123; println(\"name is $name\") &#125;&#125; åˆ›å»ºç±»çš„å®ä¾‹ä¸éœ€è¦newå…³é”®å­—(Kotlinæ²¡æœ‰newå…³é”®å­—): 1val p = Person(\"ming\") é»˜è®¤æƒ…å†µä¸‹ï¼ŒKotlinä¸­æ‰€æœ‰ç±»é»˜è®¤å‡ä¸ºfinalï¼Œåªæœ‰å£°æ˜äº†openæ‰å¯ä»¥è¢«ç»§æ‰¿ 12open class Person(p : Int)class Man(p : Int):Person(p) ç±»æ–¹æ³•åŒæ ·å¦‚æ­¤ï¼Œåªæœ‰æ ‡æ³¨äº†openæ‰èƒ½è¢«è¦†ç›–ï¼Œå¹¶ä¸”é™¤äº†è¦†ç›–ï¼Œä¸èƒ½æœ‰ä¸çˆ¶ç±»ç›¸åŒç­¾åçš„å‡½æ•° 1234567open class Base &#123; open fun v() &#123;&#125; fun nv() &#123;&#125;&#125;class Derived() : Base() &#123; final override fun v() &#123;&#125; //overrideé»˜è®¤æ–¹æ³•å¯ä»¥è¢«å­ç±»è¦†ç›–ï¼Œå¯åŠ finalæ ‡æ³¨ç¦æ­¢å­ç±»è¦†ç›–&#125; å±æ€§è¦†ç›–ä¸æ–¹æ³•ç›¸ä¼¼ï¼Œä½†varå¯è¦†ç›–valï¼Œåä¹‹å´ä¸è¡Œ å½“çˆ¶ç±»ä¸å®ç°çš„æ¥å£æœ‰å‡½æ•°é‡åæ—¶çš„æƒ…å†µæ–‡æ¡£ä¸­å†™å¾—å¾ˆæ¸…æ¥šã€‚æˆ‘çªç„¶æƒ³åˆ°Javaä¸­ä¼¼ä¹æ²¡é‡åˆ°ç±»ä¼¼çš„æƒ…å†µï¼Œé¦–å…ˆåº”è¯¥æ˜¯è¿™ç§åœ¨è®¾è®¡ä¸Šæ˜¯ä¸åˆç†çš„ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨ç¼–ç¨‹æ—¶ç‰¹æ„å›é¿äº†ã€‚æˆ‘æµ‹è¯•äº†ä¸€ä¸‹åœ¨Javaä¸­å½“ç±»ä¸æ¥å£å‡½æ•°é‡åæ—¶ï¼Œå­ç±»ä»ç„¶åªèƒ½æœ‰ä¸€ä¸ªè¯¥åç§°å‡½æ•°ï¼Œå¹¶ä¸”å¿…éœ€æ˜¯é‡å†™çˆ¶ç±»çš„ï¼Œè°ƒç”¨æ—¶æ— è®ºè½¬å‹ä¸ºçˆ¶ç±»è¿˜æ˜¯æ¥å£å‡æ˜¯ä»¥è¯¥å‡½æ•°ä¸ºå‡†ã€‚è‹¥å­ç±»ä¸é‡å†™è¯¥æ–¹æ³•ï¼Œåˆ™æ¥å£è‡ªåŠ¨è°ƒç”¨çˆ¶ç±»è¯¥æ–¹æ³•ã€‚ 123456789101112131415161718192021222324252627282930class A&#123; public void print()&#123; System.out.println(\"A\"); &#125;&#125;interface B&#123; void print();&#125;class C extends A implements B&#123; @Override //å¿…é¡»åŠ ä¸Šoverrideæ³¨è§£ public void print() &#123; super.print(); System.out.println(\"C\"); &#125;&#125;public static void main(String args)&#123; A a = new C(); a.print(); B b = new C(); b.print();&#125;/*è¾“å‡ºå‡ä¸ºï¼šA* C*è‹¥ä¸é‡å†™printæ–¹æ³•ï¼Œåˆ™è¾“å‡ºå‡ä¸º:A*/ ä½†æ˜¯å½“é‡åå‡½æ•°è¿”å›ç±»å‹ä¸åŒæ—¶ï¼Œç¼–è¾‘å™¨ä¼šæŠ¥é”™ã€‚ abstractä¿®é¥°çš„ç±»å’Œæˆå‘˜ä¸ç”¨æ ‡æ³¨open Kotlinä¸­æ²¡æœ‰é™æ€æ–¹æ³•ã€‚","tags":[{"name":"Kotlin","slug":"Kotlin","permalink":"http://yoursite.com/tags/Kotlin/"}]},{"title":"Android Studioæ›´æ–°åæ— æ³•debugè§£å†³","date":"2017-05-17T04:02:17.000Z","path":"2017/05/17/Android-Studioæ›´æ–°åæ— æ³•debugè§£å†³/","text":"ä¹‹å‰æ›´æ–°ASåé‡åˆ°ä¸€ä¸ªé—®é¢˜å°±æ˜¯æœ¬æ¥æ­£å¸¸çš„é¡¹ç›®çªç„¶åœ¨è¿è¡Œåæ— æ³•è‡ªåŠ¨è°ƒèµ·ç•Œé¢äº†ï¼Œæˆ‘ä½¿ç”¨çœŸæœºé€šè¿‡æ•°æ®çº¿è¿æ¥åˆ°ASè°ƒè¯•é¡¹ç›®ï¼Œç‚¹å‡»è¿è¡Œåapkè¢«æ­£ç¡®å®‰è£…åˆ°äº†æ‰‹æœºä¸Šï¼Œä½†æ˜¯æ²¡æœ‰åœ¨ASå¼•å¯¼ä¸‹è‡ªåŠ¨æ‰“å¼€appï¼Œå¹¶ä¸”debugä¹Ÿå¤±è´¥ï¼Œæ— æ³•è°ƒèµ·debugç•Œé¢ã€‚æŸ¥äº†å¾ˆå¤šèµ„æ–™ä¹Ÿæ²¡ä¸ªç»“æœï¼Œå½“æ—¶ä»¥ä¸ºæ˜¯ASæ–°ç‰ˆæœ¬çš„é—®é¢˜ï¼Œæ¯•ç«ŸASä»1.5å‡çº§åˆ°2.0æ­¥å­ä¹ŸæŒºå¤§çš„ï¼Œåæ¥é—®å­¦é•¿å´å‘ç°ä»–æ²¡æœ‰é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œä¾ç„¶è·‘å¾—é£èµ·ã€‚ã€‚ã€‚æœ€åæ˜¯ä¸€ä¸ªå·²ç»å·¥ä½œçš„å¤§ç¥æŒ‡å¯¼ï¼Œè®©æˆ‘å‡çº§Gradleç‰ˆæœ¬è¯•è¯•ï¼Œæœç„¶å‡çº§ä¹‹åå°±OKäº†ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹å‡çº§è¿‡ç¨‹ã€‚ ç›´æ¥å³é”®ç‚¹å‡»appæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€Project Structureï¼Œæˆ–è€…é€šè¿‡File-&gt;Project Structureæ‰“å¼€ï¼Œ è¿›å…¥åˆ°Projectæ ï¼Œåœ¨è¿™é‡Œä¿®æ”¹Gradleå’ŒAndroid Plugin Versionçš„ç‰ˆæœ¬ï¼ŒAndroid Plugin Versionæ˜¯Gradleæ’ä»¶ç‰ˆæœ¬å·ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥å»build.gradleæ–‡ä»¶ä¸­ç›´æ¥ä¿®æ”¹ã€‚ä¸¤è€…ä¹‹é—´å­˜åœ¨ç€å¯¹åº”å…³ç³»ï¼Œä¸èƒ½éšä¾¿è®¾ç½®çš„ï¼Œå¯¹åº”å…³ç³»å¯ä»¥ç›´æ¥åˆ°å®˜æ–¹ç”¨æˆ·æŒ‡å—å»æŸ¥çœ‹ è‡ªä»AS2.0ç‰ˆæœ¬ä»¥åç»å¸¸åœ¨æ›´æ–°äº†ASä¹‹åæ‰“å¼€é¡¹ç›®æ—¶æç¤ºä¸€ä¸ªæ›´æ–°INSTANT RUNçš„é€šçŸ¥ï¼Œè¿™ä¸ªæˆ‘æ¯æ¬¡éƒ½æ²¡çœ‹æ¸…å°±ç‚¹ç¡®å®šäº†ï¼Œä»Šå¤©æ›´æ–°çš„æ—¶å€™æ‰æ³¨æ„åˆ°æ›´æ–°çš„é€šçŸ¥æ å…¶å®å°±æç¤ºäº†å»ºè®®ç”¨æˆ·å°†Gradleå‡çº§3.3åŠæ’ä»¶2.3.2ç‰ˆæœ¬ï¼Œè¦æ˜¯æ›´æ–°å‰ä»”ç»†çœ‹ä¹Ÿå°±ä¸ä¼šé‚£ä¹ˆç—›è‹¦åœ°debugå¥½å‡ å¤©äº†å§ã€‚ã€‚ã€‚","tags":[{"name":"Android","slug":"Android","permalink":"http://yoursite.com/tags/Android/"},{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://yoursite.com/tags/æŠ€æœ¯/"},{"name":"Android Studio","slug":"Android-Studio","permalink":"http://yoursite.com/tags/Android-Studio/"}]},{"title":"hexo+yiliaä¸»é¢˜ä½¿ç”¨å¾®åšè¯„è®ºç®±","date":"2017-05-16T09:11:11.000Z","path":"2017/05/16/hexo-yilliaä¸»é¢˜ä½¿ç”¨å¾®åšè¯„è®ºç®±/","text":"æ˜¨å¤©æ–°æ­å¥½åšå®¢ä¹‹åå°±ä¸€ç›´æƒ³è¦æ·»åŠ ä¸€ä¸ªç•™è¨€ç‰ˆæ–¹ä¾¿å’Œå¤§å®¶äº¤æµï¼ˆè™½ç„¶è·Ÿæ²¡æœ‰äººï¼‰ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯littenå¤§ç¥çš„yiliaä¸»é¢˜ï¼Œé‡Œé¢æœ¬èº«å°±å¸®åŠ©æˆ‘ä»¬æ·»åŠ äº†ç•…è¨€ã€å¤šè¯´ã€ç½‘æ˜“äº‘è·Ÿå¸–ã€Disquså››ç§è¯„è®ºç³»ç»Ÿï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ä¸»é¢˜æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ï¼Œé…ç½®appidå°±å¯ä»¥ä½¿ç”¨äº†ï¼Œéå¸¸æ–¹ä¾¿ã€‚ ä½†æ˜¯ã€‚ã€‚ã€‚æˆ‘çš„ç¯å¢ƒæ˜¯gitpage+hexoï¼Œå¹¶ä¸”æ²¡æœ‰è‡ªå·±çš„åŸŸåï¼Œè€Œç•…è¨€éœ€è¦åŸŸåçš„å¤‡æ¡ˆå·ï¼Œæ— æ³•ç”³è¯·ï¼›ç½‘æ˜“äº‘è·Ÿå¸–åˆ¤æ–­github.io urlå·²å­˜åœ¨ï¼Œæ— æ³•ç”³è¯·ï¼›å¤šè¯´å°†åœ¨6æœˆå…³é—­ï¼Œä¸æ¨èä½¿ç”¨ï¼›Disqusåœ¨å¢™å†…ä½¿ç”¨ä¸æ–¹ä¾¿ï¼Œä¸æ¨èä½¿ç”¨ã€‚ã€‚ã€‚äºæ˜¯æˆ‘åªèƒ½å¦è°‹å‡ºè·¯ã€‚ç»è¿‡å¤šæ–¹æœç´¢ï¼Œæˆ‘å‘ç°å‹è¨€å’Œå¾®åšè¯„è®ºç®±ä¸¤ä¸ªé€‰æ‹©ä¸é”™ï¼Œäºæ˜¯å¼€å§‹æ·»åŠ ï¼Œå…ˆè¯´è¯´å‹è¨€çš„é…ç½®å§ã€‚ å‹è¨€è¸©å‘å…¶å®å‹è¨€æ²¡ä»€ä¹ˆå¥½å‘çš„ï¼Œç›´æ¥æ³¨å†Œåéƒ½ä¸ç”¨é‚®ç®±è®¤è¯å°±èƒ½è‡ªåŠ¨åˆ†é…åˆ°uidï¼Œç„¶åè·å–åˆ°ä»£ç ç›´æ¥æ’å…¥åˆ°ç•Œé¢ä¸­å°±å¯ä»¥äº†ï¼ˆä¸ä¼šä¿®æ”¹ä¸»é¢˜ä»£ç çš„å¯ä»¥å‚è€ƒä¸‹é¢å¾®åšæ’å…¥ä»£ç çš„æ–¹æ³•ï¼‰ã€‚ä½†æ˜¯æˆ‘æ’å…¥ä¹‹åæ— è®ºæ˜¯æœ¬åœ°æµ‹è¯•è¿˜æ˜¯æ›´æ–°åˆ°gitpageä¸Šæµ‹è¯•éƒ½æ²¡æœ‰å‡ºç°è¯„è®ºæ¡†ï¼Œåœºé¢å¼‚å¸¸å°´å°¬ï¼ŒæŸ¥äº†å¾ˆå¤šèµ„æ–™ä¹Ÿæ²¡æœ‰ä¸ªè§£é‡Šï¼Œäºæ˜¯ä¿ç•™äº†ä»£ç å¹¶ä¸”ç»™å®¢æœåé¦ˆäº†ï¼Œç­‰æœ‰äº†è§£å†³æ–¹æ¡ˆå†æ¥æ›´æ–°ã€‚ å¾®åšè¯„è®ºç®±æ¥å…¥ç„¶åè®²è®²å¾®åšè¯„è®ºç®±çš„æ¥å…¥ã€‚é¦–å…ˆæ˜¯å»æ–°æµªå¾®åšå¼€æ”¾å¹³å°ç”³è¯·ä¸ªå¸å·ï¼ˆå½“ç„¶ç›´æ¥å¾®åšç™»å½•ä¹Ÿæ˜¯å¯ä»¥çš„ï¼‰ã€‚æ¥ç€åˆ›å»ºç½‘ç«™ï¼š è¿™é‡Œå¡«å…¥ç½‘ç«™åç§°å’ŒåŸŸåå¯ä»¥æ˜¯gitpageçš„åœ°å€ï¼Œä¾‹å¦‚:å°æ˜çš„åšå®¢ï¼›djming.github.ioã€‚ éªŒè¯æ–¹å¼æˆ‘é€‰æ‹©äº†ç¬¬ä¸€ç§ï¼šåœ¨é¦–é¡µæ·»åŠ æ ‡ç­¾ã€‚é¦–å…ˆå¤åˆ¶ä¸Šé¢è¿™æ®µä»£ç ï¼Œç„¶åæ‰¾åˆ°ä¸»é¡µæ‰€åœ¨çš„é¡µé¢ï¼Œç”±äºæˆ‘ä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡è¿™ç±»å¼€å‘ï¼ŒæŸ¥äº†å¾ˆä¹…æ–‡æ¡£æ‰æ‰¾åˆ°:æˆ‘ä»¬å°±æ˜¯è¦ä¿®æ”¹è¿™ä¸ªhead.ejsæ–‡ä»¶ï¼Œè¿™é‡Œé¢åŒ…å«äº†æˆ‘ä»¬åšå®¢é¡µé¢çš„&lt;head&gt;æ ‡ç­¾å†…å®¹ï¼Œhexo-theme-yiliaæ˜¯æˆ‘çš„ä¸»é¢˜æ–‡ä»¶å¤¹åï¼Œå¦‚æœç”¨çš„ä¸æ˜¯è¿™ä¸ªä¸»é¢˜å¯ä»¥è‡ªè¡Œå»æ‰¾ï¼Œæ ¹æ®hexoå®˜æ–¹æ–‡æ¡£çš„è§„åˆ™ï¼Œä¸»é¢˜ç›®å½•åº”è¯¥æ˜¯å¤§è‡´ç›¸åŒçš„ã€‚åœ¨è¿™é‡Œéšä¾¿æ‰¾ä¸ªåœ°æ–¹æŠŠ&lt;meta&gt;æ ‡ç­¾æ’è¿›å»å°±è¡Œäº†ï¼Œç„¶åæ‰§è¡Œhexo dæŠŠæˆ‘ä»¬çš„é¡¹ç›®æ›´æ–°åˆ°gitpageï¼Œè®¿é—®è‡ªå·±åšå®¢ç¡®è®¤å¤´ä¿¡æ¯å·²ç»è¢«ä¿®æ”¹æ¥ç€å°±ç‚¹å‡»éªŒè¯å¹¶æ·»åŠ è¿›å…¥äº†æ¼«é•¿çš„ç­‰å¾…ï¼Œä¸çŸ¥æ˜¯ä¸æ˜¯å¾®åšçš„æœåŠ¡å™¨è®¿é—®gitpageç‰¹åˆ«æ…¢ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘å»æŸ¥è¯¢äº†è§£å†³å‹è¨€é—®é¢˜çš„å„ç§èµ„æ–™ï¼Œè¿˜é¡ºä¾¿å‡ºå»ç»™æœ‹å‹é€äº†ä¸ªä¸œè¥¿ï¼Œå›æ¥çœ‹è§é¡µé¢è¿˜å¡åœ¨è¿™ï¼Œä¸€åˆ·æ–°æç¤ºç½‘ç«™åç§°å·²å­˜åœ¨æ‰æ˜ç™½å·²ç»åˆ›å»ºæˆåŠŸäº†ï¼Œç°åœ¨è¿›å…¥æˆ‘çš„åº”ç”¨å°±å¯ä»¥çœ‹è§è‡ªå·±åˆšæ‰ç”³è¯·çš„ç½‘ç«™å•¦ï¼ æ¥ä¸‹æ¥æˆ‘ä»¬å›åˆ°è¯„è®ºç®±APIç½‘ç«™å¯ä»¥çœ‹åˆ°è¿™é‡Œå·²ç»å’Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡è¿›æ¥ä¸åŒäº†ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯åœ¨è¿™ä¸ªé¡µé¢çš„ç¬¬ä¸€æ­¥ç¬¬äºŒéƒ¨ä¸­é…ç½®çš„ä¸åŒä¼šç›´æ¥å¯¼è‡´ç¬¬ä¸‰æ­¥å¤åˆ¶ä»£ç æ¡†ä¸­äº§ç”Ÿçš„ä»£ç ä¸åŒï¼Œå› ä¸ºè¯„è®ºæ¡†çš„æ ·å¼éƒ½è¢«å†™åœ¨äº†WBMLä¸­ï¼Œç¬¬ä¸‰æ­¥å¤åˆ¶ä»£ç éœ€è¦å¢åŠ XMLå‘½åç©ºé—´ï¼Œè¿™é‡Œä¾ç„¶è¿›å…¥æˆ‘ä»¬åˆšæ‰ç¼–è¾‘çš„head.ejsï¼Œå°†&lt;html&gt;æ ‡ç­¾ä¿®æ”¹ä¸º&lt;html xmlns:wb=&quot;http://open.weibo.com/wb&quot;&gt;ï¼Œå¹¶ä¸”åœ¨headä¸­æ·»åŠ &lt;script src=&quot;http://tjs.sjs.sinajs.cn/open/api/js/wb.js?appkey=ä½ çš„appkey&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;ï¼Œæœ€åå°±æ˜¯å°†è¯„è®ºç®±çš„ä»£ç å¤åˆ¶åˆ°è¯„è®ºç®±åº”è¯¥å‡ºç°çš„åœ°æ–¹äº†ï¼Œåœ¨æˆ‘ä½¿ç”¨yiliaä¸»é¢˜ä¸­ï¼Œæˆ‘ç›´æ¥å†™è¿›äº†/theme/yilia/layout/_partial/article.ejsçš„æœ«å°¾ï¼Œç„¶åæ‰§è¡Œhexo clean &amp;&amp; hexo g &amp;&amp; hexo serveræŸ¥çœ‹æ•ˆæœã€‚ å…¶å®å¯ä»¥åœ¨hexoæœåŠ¡è¿è¡Œæ—¶ä¿®æ”¹é…ç½®æ–‡ä»¶ä»¥åŠ.mdæ–‡ä»¶ï¼Œå†åˆ·æ–°é¡µé¢å°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ï¼Œä¸éœ€è¦æ¯æ¬¡cleanå†é‡å¯ã€‚ æ€»ç»“ä¸€ä¸‹ç”³è¯·è¯„è®ºç®±çš„å‘ï¼š éªŒè¯è¿‡ç¨‹å¤ªæ…¢ï¼Œä¸è¿‡æ˜¯èƒ½å¤Ÿç”³è¯·æˆåŠŸçš„ï¼Œä½ å¯ä»¥å–æ¯å’–å•¡ã€‚ æˆ‘é€‰æ‹©ç•™è¨€æ¡†çš„æ ·å¼æ˜¯ä¸æ˜¾ç¤ºè¾¹æ¡†ï¼Œä½†æ˜¯å®é™…æ•ˆæœè¿˜æ˜¯æ˜¾ç¤ºäº†ï¼Œæˆ‘çš„è§£å†³æ–¹æ³•æ˜¯å°†æœ€åéœ€è¦éƒ¨ç½²WBMLä¿®æ”¹ä¸º&lt;wb:comments url=&quot;auto&quot; border=&quot;n&quot; brandline=&quot;n&quot; fontsize=&quot;12&quot; width=&quot;auto&quot; appkey=&quot;ä½ çš„APPKEY&quot; &gt;&lt;/wb:comments&gt;ä¹Ÿå°±æ˜¯æ·»åŠ äº†border=&quot;n&quot; èº«ä»½éªŒè¯å’Œå®¡æ ¸æœ‰ç‚¹éº»çƒ¦ï¼Œéœ€è¦èº«ä»½è¯æ‰«æç…§ã€‚ æœ€åè¦è¯´çš„æ˜¯æ–°æµªçš„è¯„è®ºç®±éœ€è¦è¿›è¡Œç”¨æˆ·èº«ä»½è®¤è¯åå†ä¸Šçº¿ï¼Œå…¶å®ä¹Ÿæ¯”ç•…è¨€çš„å¥½ä¸äº†å¤šå°‘ï¼Œä¸è¿‡å¯¹äºæ²¡æœ‰åŸŸåä¹Ÿä¸æ‰“ç®—ä¹°çš„å°ä¼™ä¼´å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œå¸Œæœ›å‹è¨€çš„é—®é¢˜èƒ½å¤Ÿå°½å¿«è§£å†³ï¼Œå¦‚æœä½ çŸ¥é“ä»€ä¹ˆå¥½çš„ç•™è¨€ç³»ç»Ÿä¹Ÿè¯·å‘Šè¯‰æˆ‘å“Ÿ~ å†™å®Œä»¥ä¸Šæ–‡å­—åæˆ‘æ‰æƒ³èµ·æœ‰ä¸ªå«åšæ¥å¿…åŠ›ï¼ˆæ¥â™‚æ¯”åˆ©ï¼‰çš„è¯„è®ºç³»ç»Ÿå¿˜è®°äº†ï¼Œäºæ˜¯å»æµ‹è¯•äº†ä¸€ä¸‹ã€‚ã€‚ã€‚å¼‚å¸¸ç®€å•ï¼Œæ³¨å†Œå®Œæˆåæ’å…¥ä»£ç åˆ°é¡µé¢å°±è¡Œäº†ï¼Œè€Œä¸”æœ‰ä¸ªäººå…è´¹ï¼Œç”¨æˆ·å¯ä»¥ä¸ç™»å½•ç•™è¨€ã€‚ã€‚ã€‚è¯·å¿˜äº†æˆ‘ä¸Šé¢å†™çš„ä¸œè¥¿å§ã€‚ã€‚ã€‚","tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://yoursite.com/tags/æŠ€æœ¯/"},{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"},{"name":"yilia","slug":"yilia","permalink":"http://yoursite.com/tags/yilia/"},{"name":"è¯„è®ºç³»ç»Ÿ","slug":"è¯„è®ºç³»ç»Ÿ","permalink":"http://yoursite.com/tags/è¯„è®ºç³»ç»Ÿ/"}]},{"title":"hexo+gitpageæ­å»ºè¿‡ç¨‹é‡åˆ°çš„å‘","date":"2017-05-15T10:13:36.000Z","path":"2017/05/15/hexo+gitpageæ­å»ºé‡åˆ°çš„å‘/","text":"ä»Šå¤©åœ¨çœ‹ä¸€ç¯‡æŸå¤§ç¥å†™å¾—æŠ€æœ¯æ–‡ç« æ—¶èŒç”Ÿäº†è‡ªå·±æ­å»ºä¸€ä¸ªåšå®¢çš„æƒ³æ³•ï¼Œäºæ˜¯åœ¨å¤§ç¥åšå®¢çš„åº•éƒ¨å‘ç°äº†ä½¿ç”¨çš„æ¡†æ¶ä»¥åŠä¸»é¢˜ã€‚ hexoçš„å®‰è£…æ­å»ºå¾ˆç®€å•ï¼Œå®˜æ–¹æ–‡æ¡£å¾ˆå…¨é¢è€Œä¸”ä¹Ÿæœ‰ä¸­æ–‡ç‰ˆï¼Œç½‘ä¸Šä¹Ÿæœ‰ä¸å°‘æ–‡ç« ï¼Œè¿™é‡Œç»™ä¸Šé“¾æ¥ä¸å†èµ˜è¿°:å®˜æ–¹ä¸­æ–‡æ–‡æ¡£å’Œå¤§ç¥çš„è¶…å…¨é¢æ•™ç¨‹ã€‚ æˆ‘å°±è°ˆè°ˆä½œä¸ºä¸€ä¸ªæ²¡æ¥è§¦è¿‡è¿™ç±»æ¡†æ¶çš„å°ç™½åœ¨æ­å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„å‘ã€‚ hexoå¦‚ä½•å‘å¸ƒåˆ°gitpageæˆ‘åœ¨æ­å»ºhexoçš„è¿‡ç¨‹ä¸­æœ€å¤§çš„ç–‘æƒ‘å°±æ˜¯å¦‚ä½•æŠŠhexoæ­åˆ°gitpageä¸Šï¼Ÿæˆ‘è‡ªå·±æ˜¯ä»¥ä¸ºåˆ›å»ºå¥½repositoryåéœ€è¦cloneåˆ°æœ¬åœ°è¿›è¡Œæ­å»ºå†pushä¸ŠæœåŠ¡å™¨ã€‚å…¶å®ä¸å¿…è¿™ä¹ˆéº»çƒ¦ï¼Œhexoä¼šè§£å†³ä¸Šä¼ çš„é—®é¢˜ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡hexo init &lt;floder&gt;å‘½ä»¤æŠŠé¡¹ç›®åˆ›å»ºåœ¨è‡ªå·±å–œæ¬¢çš„ç›®å½•åä¸­ã€‚hexo då‘½ä»¤ä¼šæ ¹æ®ä½ åœ¨_config.ymlä¸­deployé¡¹ä¸‹é…ç½®çš„repositoryçš„åœ°å€å°†é¡¹ç›®pushä¸Šå»ï¼Œå½“ç„¶å‰ææ˜¯ä½ å·²ç»é…ç½®å¥½äº†æœ¬åœ°äº†gitå‘½ä»¤ã€‚æ‰€ä»¥ä¸ç”¨å†çº ç»“hexo initåˆ°åº•åœ¨å“ªä¸ªç›®å½•æ‰§è¡Œï¼Œæ€ä¹ˆå»ä¸Šä¼ è¿™ç±»çš„é—®é¢˜ã€‚ Cannot Get /åœ¨æ‰§è¡Œäº†hexo serveræ²¡æœ‰æŠ¥é”™æƒ…å†µä¸‹è®¿é—®localhost:4000å¯èƒ½ä¼šçœ‹åˆ°è¿™ä¸ªé”™è¯¯é¡µé¢ï¼Œå¯¼è‡´è¿™ç§é—®é¢˜å¯èƒ½æ˜¯ä¸¤ç§æƒ…å†µï¼š æ²¡æœ‰æ‰§è¡Œnpm installå‘½ä»¤ã€‚ _post/ç›®å½•ä¸‹æ²¡æœ‰æ–‡ä»¶. ä½¿ç”¨hexo initå‘½ä»¤åˆ›å»ºå¥½é¡¹ç›®ååº”è¯¥è¿›å…¥ç›®å½•æ‰§è¡Œnpm installï¼Œè¿™ä¸ªåªè¦è·Ÿç€æ–‡æ¡£ä¸­å°±ä¸ä¼šæœ‰é”™ã€‚å‘çˆ¹çš„æ˜¯ç¬¬äºŒç§æƒ…å†µã€‚ç”±äºåˆ›å»ºçš„é¡¹ç›®ä¸­ä¼šæœ‰ä¸€ç¯‡é»˜è®¤æ–‡ç« æ¥å¼•å¯¼å°ç™½ï¼Œåˆ é™¤è¿™ç¯‡æ–‡ç« å¯¹åº”çš„.mdæ–‡ä»¶å_postä¹Ÿå°±æˆä¸ºäº†ç©ºç›®å½•ï¼Œè¿™ç§æƒ…å†µåŒæ ·ä¼šå¯¼è‡´é”™è¯¯é¡µé¢å‡ºç°ï¼Œæ‰€ä»¥ä¸€å®šè¦ä¿è¯æ¯ä¸ªç›®å½•ä¸‹éƒ½æœ‰æ–‡ç« æ’‘ç€ï¼Œç‰¹åˆ«æ˜¯_postç›®å½•ã€‚ Markdownæ–‡æ¡£è§£æé”™è¯¯è¿™ä¸ªé—®é¢˜æ˜¯åœ¨è¦å‘å¸ƒçš„æ—¶å€™æ‰å‘ç°çš„ã€‚ã€‚ã€‚åœ¨é¢„è§ˆçš„ç½‘é¡µä¸­è®¸å¤šæ ‡é¢˜å‰çš„###ç­‰ç¬¦å·æœªè¢«è¯†åˆ«ä»¥åŠä¸€äº›å…¶ä»–é—®é¢˜ï¼Œè¿™ä¸ªä¼¼ä¹å’Œä¸»é¢˜ä¹Ÿæœ‰å…³ï¼Œå¹¶ä¸æ˜¯æ‰€ä»¥äººéƒ½ä¼šé‡åˆ°ã€‚è§£å†³æ–¹æ³•å°±æ˜¯åœ¨###ä¸æ–‡å­—æ ‡é¢˜ä¹‹é—´åŠ ä¸€ä¸ªç©ºæ ¼è€Œéæˆ‘ä»¬æ™®é€šåœ°è¿å†™ï¼Œå…¶å®è¿™ä¹Ÿæ˜¯markdownçš„è§„èŒƒï¼Œåªæ€ªæˆ‘å­¦è‰ºä¸ç²¾ã€‚ ä»¥ä¸Šå°±æ˜¯æˆ‘åœ¨é…ç½®hexoæ—¶çš„ä¸€ç‚¹å¿ƒå¾—ï¼Œæ€»ä½“æ¥è¯´hexoè¿™ä¸ªæ¡†æ¶çœŸçš„å¾ˆç®€å•ï¼Œå„ç§ä¸»é¢˜ä¹Ÿè¿˜è›®å¥½çœ‹çš„ï¼Œæˆ‘ä¹Ÿè¿˜åœ¨æ‘¸ç´¢å½“ä¸­ï¼Œç¬¬ä¸€æ¬¡å†™markdownæ–‡æ¡£æ’ç‰ˆå¤ªä¸‘è¯·åŸè°…ã€‚","tags":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://yoursite.com/tags/æŠ€æœ¯/"},{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"},{"name":"gitpage","slug":"gitpage","permalink":"http://yoursite.com/tags/gitpage/"}]}]